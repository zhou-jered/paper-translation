# 摘要
今天给你介绍mesos，这是一个在各种各样的集群计算框架之间共享集群的平台，比如说 Hadoop 和 MPI，这里说的的共享指的是提升利用率和避免在不同计算框架之间复制数据，让框架通过轮流读取存储在本地机器上的数据达到数据本地性（Locality）。为了支持当今框架复杂的调度实现，Mesos 提出了一个分布式的两阶段调度机制叫做 resource offers。Mesos 决定每个框架需要多少 resources，同时框架自己决定接受哪些 resources 和 运行怎样的计算，我们的结果显示 Mesos 在不同框架之间分享集群资源就快要达到最优的数据本地性（Locality），且可以扩展到5w个node（emulated 模拟），且具备失败弹性恢复。

# 简介
现在的计算平台基本上都是商业机器集群，为庞大的联网服务和快速增长的计算任务提供支持。在程序猿在努力下，发展起来的很多的计算框架来简化集群的操作，比如 MapReduce，Dryad，MapReduce Online 和其他框架。

可以预见的是，新的计算框架肯定会持续的出现，没有框架会适合所有类型的应用程序（app）。所以，你的老板想要在一个集群里面跑起来所有的框架，你要负责选择出最合适的框架来运行你的 app。在框架之间复用集群可以显而易见的避免复制数据的消耗，从而来提高利用率。
两个比较常见的解决方案是，1，静态的划分集群资源分片，每个分片跑一个框架。2，给每个框架分配一些虚拟机。抱歉，这些方案即不能提升机器利用率也不能提高数据效率。这里面的主要问题是资源分配粒度和框架之间的错配。现有的框架，比如 Hadoop 和 Dryad，引入了一个细粒度的资源共享模型，就是把机器（node）划分成 slots，任务 jobs 由精简的 tasks 来组成，并且和 slots 相匹配。task 运行时间通常很短，一台机器上可以同时运行多个 tasks，这样一来，Job 就可以在同一个机器（node）上读写数据，达到一个比较好的数据 Locaility。再次抱歉，由于这些框架都是各自开发的，在框架之间没法得到一个细粒度的资源共享，所以就比较难搞。

在这篇论文里面，Mesos 给所有的框架一个统一的访问集群资源的接口，然后自己在底层实现一个细粒度的跨框架资源共享方案。

这里面的主要问题是 Mesos 怎样去构建一个可扩展的高校系统，可以同时支持各种各样的计算框架，这里面比较屌的是还要支持还没有出现的未来的框架，Mesos 也要支持。这就延伸出来一些子问题，一是各个框架之间基于他们的编程模型，交互模式，任务依赖和数据存储有不同的资源调度需求，二是调度系统要能扩展到成千上万的节点，数以百万计的 tasks。最后，因为这些框架都依赖 Mesos，所以 Mesos 本身必须容错且高可用。
